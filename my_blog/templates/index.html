{% extends "base.html" %}
{% load custom_markdown %}

{% block content %}

<div class="posts">
    {% for post in post_list %}
        <section class="post">
            <header class="post-header">
                <h2 class="post-title">
                    <a href="{% url "detail" id=post.id %}">
                    {{ post.title }}
                    </a>
                </h2>

                    <p class="post-meta">
                        Time:
                        <a class="post-author" href="#">
                            {{ post.date_time | date:"Y年m月" }}
                        </a>
                        <a class="post-category post-category-js" href="{% url "search_tag" tag=post.tag %}">
                            {{ post.tag }}
                        </a>
                    </p>
            </header>

            <div class="post-description">
                <p>
                    {{ post.content|custom_markdown|truncatewords_html:4 }}
                </p>
            </div>
            <a class="button-xsmall pure-button" href="{% url "detail" id=post.id %}">Read More >>> </a>
            
        </section>
    {% endfor %}
</div>

{% endblock%}